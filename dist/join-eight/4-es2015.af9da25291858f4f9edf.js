(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{BJHQ:function(t,e,a){"use strict";a.r(e);var n=a("fXoL"),c=a("ofXK"),r=a("nsaF"),i=a("3Pt+"),o=a("tyNb"),s=a("DF3/");const d=["o","outlet"],l=(()=>{class t{constructor(t,e){this.route=t,this.router=e}ngOnInit(){}}return t.ngComponentDef=n.Ib({type:t,selectors:[["app-users"]],factory:function(e){return new(e||t)(n.Ob(o.a),n.Ob(o.b))},consts:3,vars:1,template:function(t,e){if(1&t&&(n.bc(0,"main"),n.Pb(1,"router-outlet",null,d),n.Ub()),2&t){const t=n.yc(2);n.Cc(0),n.vc("@fadeAnimation",t.isActivated?t.activatedRoute:"")}},directives:[o.f],styles:[""],data:{animation:[s.a]}}),t})();var b=a("sjd8"),m=a("lJxs"),p=a("8Ldt"),u=a("AytR"),g=a("sCmA"),f=a("R3tS"),h=a("tmTa"),D=a("SC0P"),k=a("hLJk"),C=a("aCXV"),U=a("LcAk"),y=a("IRfi"),v=a("A2Vd"),w=a("TY1r"),S=a("Xlwt"),x=a("gVAx"),O=a("kEI4");const P=["table"],_=[1,"container","my-5","p-0"],H=[1,"row"],I=[1,"col-md-12"],A=[1,"card","border-0"],M=[1,"card-header","border-0"],L=[1,"card-title"],E=[1,"card-body","p-0"],$=[1,"pl-0","pl-sm-4","mb-3","mb-sm-0","search-field"],G=["matInput","","placeholder","Search",3,"keyup"],R=["matSuffix",""],B=["mat-raised-button","","color","primary","matTooltip","Click to Add",1,"float-right","mr-0","mr-sm-5","mb-3","mb-sm-0",3,"click"],T=["matListIcon",""],F=[1,"table-responsive","mat-elevation-z1"],j=["class","d-flex justify-content-center my-5",4,"ngIf"],z=["mat-table","","matSort","","matSortActive","Id","matSortDirection","asc","matSortDisableClear","","cdkDrag","","cdkDropList","",3,"dataSource","cdkDropListDropped",4,"ngIf"],N=["class","p-3 d-flex justify-content-center",4,"ngIf"],q=["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],X=[1,"d-flex","justify-content-center","my-5"],J=["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],V=[1,"sr-only"];function Q(t,e){1&t&&(n.bc(0,"div",X),n.bc(1,"div",J),n.bc(2,"span",V),n.Hc(3,"Loading..."),n.Ub(),n.Ub(),n.Ub())}const K=["mat-table","","matSort","","matSortActive","Id","matSortDirection","asc","matSortDisableClear","","cdkDrag","","cdkDropList","",3,"dataSource","cdkDropListDropped"],Y=["table",""],W=["matColumnDef","Id"],Z=["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],tt=["mat-cell","",4,"matCellDef"],et=["matColumnDef","First Name"],at=["matColumnDef","Last Name"],nt=["matColumnDef","Email"],ct=["matColumnDef","Date of Birth"],rt=["matColumnDef","Action"],it=["mat-header-cell","",4,"matHeaderCellDef"],ot=["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],st=["mat-row","","cdkDrag","","cdkDragHandle","","cdkDragRootElement","mat-row","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled","cdkDragStarted","cdkDragEnded","cdkDropListDropped",4,"matRowDef","matRowDefColumns"],dt=["mat-header-cell","","mat-sort-header",""];function lt(t,e){1&t&&(n.bc(0,"th",dt),n.Hc(1," Id "),n.Ub())}const bt=["mat-cell",""],mt=[1,"mobile-label","pr-2"];function pt(t,e){if(1&t&&(n.bc(0,"td",bt),n.bc(1,"span",mt),n.Hc(2,"Id : "),n.Ub(),n.Hc(3),n.Ub()),2&t){const t=e.$implicit;n.Cc(3),n.Ic(3,n.kc(" ",t.id," "))}}function ut(t,e){1&t&&(n.bc(0,"th",dt),n.Hc(1," First Name "),n.Ub())}function gt(t,e){if(1&t&&(n.bc(0,"td",bt),n.bc(1,"span",mt),n.Hc(2,"First Name : "),n.Ub(),n.Hc(3),n.Ub()),2&t){const t=e.$implicit;n.Cc(3),n.Ic(3,n.kc(" ",t.first_name," "))}}function ft(t,e){1&t&&(n.bc(0,"th",dt),n.Hc(1," Last Name "),n.Ub())}function ht(t,e){if(1&t&&(n.bc(0,"td",bt),n.bc(1,"span",mt),n.Hc(2,"Last Name : "),n.Ub(),n.Hc(3),n.Ub()),2&t){const t=e.$implicit;n.Cc(3),n.Ic(3,n.kc(" ",t.last_name," "))}}function Dt(t,e){1&t&&(n.bc(0,"th",dt),n.Hc(1," Email "),n.Ub())}function kt(t,e){if(1&t&&(n.bc(0,"td",bt),n.bc(1,"span",mt),n.Hc(2,"Email : "),n.Ub(),n.Hc(3),n.Ub()),2&t){const t=e.$implicit;n.Cc(3),n.Ic(3,n.kc(" ",t.email," "))}}function Ct(t,e){1&t&&(n.bc(0,"th",dt),n.Hc(1," Date of Birth "),n.Ub())}function Ut(t,e){if(1&t&&(n.bc(0,"td",bt),n.bc(1,"span",mt),n.Hc(2,"Date of Birth : "),n.Ub(),n.Hc(3),n.Ub()),2&t){const t=e.$implicit;n.Cc(3),n.Ic(3,n.kc(" ",t.DOB," "))}}const yt=["mat-header-cell",""];function vt(t,e){1&t&&(n.bc(0,"th",yt),n.Hc(1,"Actions "),n.Ub())}const wt=["mat-icon-button","","matTooltip","Click to Edit","color","primary",1,"iconbutton",3,"click"],St=["aria-label","Edit"],xt=["mat-icon-button","","matTooltip","Click to Delete","color","warn",1,"iconbutton",3,"click"],Ot=["aria-label","Delete"];function Pt(t,e){if(1&t){const t=n.gc();n.bc(0,"td",bt),n.bc(1,"button",wt),n.lc("click",function(a){n.Ac(t);const c=e.$implicit;return n.qc(2).openEditDialog(c)}),n.bc(2,"mat-icon",St),n.Hc(3,"edit"),n.Ub(),n.Ub(),n.bc(4,"button",xt),n.lc("click",function(a){n.Ac(t);const c=e.$implicit;return n.qc(2).openDeleteDialog(c)}),n.bc(5,"mat-icon",Ot),n.Hc(6,"delete"),n.Ub(),n.Ub(),n.Ub()}}const _t=["mat-header-row",""];function Ht(t,e){1&t&&n.Pb(0,"tr",_t)}const It=["mat-row","","cdkDrag","","cdkDragHandle","","cdkDragRootElement","mat-row","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled","cdkDragStarted","cdkDragEnded","cdkDropListDropped"];function At(t,e){if(1&t){const t=n.gc();n.bc(0,"tr",It),n.lc("cdkDragStarted",function(e){return n.Ac(t),n.qc(2).dragStarted(e)}),n.lc("cdkDragEnded",function(e){return n.Ac(t),n.qc(2).dragEnded(e)}),n.lc("cdkDropListDropped",function(e){return n.Ac(t),n.qc(2).dropTable(e)}),n.rc(1,"async"),n.Ub()}if(2&t){const t=e.$implicit,a=n.qc(2);n.Cc(0),n.vc("cdkDragData",t),n.vc("cdkDragDisabled",!0===n.sc(1,2,a.isHandset$))}}function Mt(t,e){if(1&t){const t=n.gc();n.bc(0,"table",K,Y),n.lc("cdkDropListDropped",function(e){n.Ac(t);const a=n.yc(1);return n.qc().dropTable(e),a.renderRows()}),n.Tb(2,W),n.Gc(3,lt,2,0,"th",Z),n.Gc(4,pt,4,1,"td",tt),n.Sb(),n.Tb(5,et),n.Gc(6,ut,2,0,"th",Z),n.Gc(7,gt,4,1,"td",tt),n.Sb(),n.Tb(8,at),n.Gc(9,ft,2,0,"th",Z),n.Gc(10,ht,4,1,"td",tt),n.Sb(),n.Tb(11,nt),n.Gc(12,Dt,2,0,"th",Z),n.Gc(13,kt,4,1,"td",tt),n.Sb(),n.Tb(14,ct),n.Gc(15,Ct,2,0,"th",Z),n.Gc(16,Ut,4,1,"td",tt),n.Sb(),n.Tb(17,rt),n.Gc(18,vt,2,0,"th",it),n.Gc(19,Pt,7,0,"td",tt),n.Sb(),n.Gc(20,Ht,1,0,"tr",ot),n.Gc(21,At,2,4,"tr",st),n.Ub()}if(2&t){const t=n.qc();n.Cc(0),n.vc("dataSource",t.dataSource),n.Cc(20),n.vc("matHeaderRowDef",t.displayedColumns),n.vc("matHeaderRowDefSticky",!0),n.Cc(21),n.vc("matRowDefColumns",t.displayedColumns)}}const Lt=[1,"p-3","d-flex","justify-content-center"];function Et(t,e){1&t&&(n.bc(0,"div",Lt),n.Hc(1," No Result "),n.Ub())}const $t=[5,10,20],Gt=(()=>{class t{constructor(t,e,a,n){this.data=t,this.router=e,this.dialog=a,this.breakpointObserver=n,this.allUsers={id:String,first_name:String,last_name:String,email:String,DOB:String},this.displayedColumns=["Id","First Name","Last Name","Email","Date of Birth","Action"],this.isHandset$=this.breakpointObserver.observe(b.b.Handset).pipe(Object(m.a)(t=>t.matches)),this.usersEndPoint=u.a.apiRoutes}ngOnInit(){this.getAllUsers()}getAllUsers(){this.loading=!0,this.data.getDataX(this.usersEndPoint.userLists).subscribe(t=>{this.allUsers=t,this.loading=!1,this.dataSource=new h.k(this.allUsers),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},t=>{this.loading=!1,this.data.openSnackBar("Error loading users list.","","bg-danger")})}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDeleteDialog(t){this.dialog.open(D.a,{width:"auto",data:`Are you sure want to delete ${t.first_name} ${t.last_name} ?`}).afterClosed().subscribe(e=>{e&&(this.loading=!0,this.data.deleteDataX(this.usersEndPoint.deleteUser+"/"+t.id).subscribe(t=>{this.getAllUsers(),this.data.openSnackBar(`${t.first_name} ${t.last_name} deleted successfully`,"","bg-success")},t=>{this.data.openSnackBar("Internal server, Please try again","","bg-danger")}))})}openEditDialog(t={id:"",first_name:"",last_name:"",DOB:""}){this.dialog.open(k.a,{width:"auto",data:{editUser:t}}).afterClosed().subscribe(e=>{void 0!==e&&(e.id=t.id?t.id:"",""!==e.id?this.editUser(e):this.addUser(e))})}editUser(t){this.loading=!0,this.data.putDataX(t,this.usersEndPoint.updateUser+"/"+t.id).subscribe(t=>{this.getAllUsers(),this.data.openSnackBar(`${t.first_name} ${t.last_name} updated successfully`,"","bg-success")},t=>{this.loading=!1,this.data.openSnackBar("Internal server, Please try again","","bg-danger")})}addUser(t){this.loading=!0,this.data.postDataX(t,this.usersEndPoint.updateUser).subscribe(t=>{this.getAllUsers(),this.data.openSnackBar(`${t.first_name} ${t.last_name} added successfully`,"","bg-success")},t=>{this.loading=!1,this.data.openSnackBar("Internal server, Please try again","","bg-danger")})}dropTable(t){Object(C.e)(this.allUsers,t.previousIndex,t.currentIndex),this.table.renderRows()}dragStarted(t){}dragEnded(t){}}return t.ngComponentDef=n.Ib({type:t,selectors:[["app-users-list"]],factory:function(e){return new(e||t)(n.Ob(p.a),n.Ob(o.b),n.Ob(U.b),n.Ob(b.a))},viewQuery:function(t,e){var a;1&t&&(n.Fc(P,!0,null),n.Fc(g.a,!0,null),n.Fc(f.a,!0,null)),2&t&&(n.xc(a=n.nc())&&(e.table=a.first),n.xc(a=n.nc())&&(e.paginator=a.first),n.xc(a=n.nc())&&(e.sort=a.first))},consts:22,vars:5,template:function(t,e){1&t&&(n.bc(0,"div",_),n.bc(1,"div",H),n.bc(2,"div",I),n.bc(3,"div",A),n.bc(4,"div",M),n.bc(5,"h5",L),n.Hc(6,"All Users"),n.Ub(),n.Ub(),n.bc(7,"div",E),n.bc(8,"form"),n.bc(9,"mat-form-field",$),n.bc(10,"input",G),n.lc("keyup",function(t){return e.applyFilter(t.target.value)}),n.Ub(),n.bc(11,"mat-icon",R),n.Hc(12,"search"),n.Ub(),n.Ub(),n.bc(13,"button",B),n.lc("click",function(t){return e.openEditDialog()}),n.bc(14,"mat-icon",T),n.Hc(15,"add"),n.Ub(),n.Hc(16," Add User "),n.Ub(),n.Ub(),n.bc(17,"div",F),n.Gc(18,Q,4,0,"div",j),n.Gc(19,Mt,22,4,"table",z),n.Gc(20,Et,2,0,"div",N),n.Pb(21,"mat-paginator",q),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub()),2&t&&(n.Cc(18),n.vc("ngIf",e.loading),n.Cc(19),n.vc("ngIf",!e.loading),n.Cc(20),n.vc("ngIf",!e.loading&&0===(null==e.allUsers?null:e.allUsers.length)),n.Cc(21),n.vc("pageSize",5),n.vc("pageSizeOptions",$t))},directives:[i.n,i.j,i.k,y.b,v.b,w.a,y.e,S.a,x.a,O.a,c.k,g.a,h.j,f.a,C.a,C.c,h.c,h.e,h.b,h.g,h.i,h.d,f.b,h.a,h.f,h.h,C.b],pipes:[c.b],styles:[".card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:transparent!important}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:hover{background-color:#e9f3ff}.mobile-label[_ngcontent-%COMP%]{display:none}@media screen and (max-width:426px){.search-field[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{background:0 0;box-shadow:none}.mat-header-row[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{background-color:transparent!important}tbody[_ngcontent-%COMP%]{display:block;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;position:relative;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);background-color:#fff;border-radius:3px;margin-bottom:1rem}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;margin-bottom:10px;border:0;padding-left:24px;padding-right:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type{margin-top:10px}.mobile-label[_ngcontent-%COMP%]{display:inline-block;font-weight:700}.mat-paginator[_ngcontent-%COMP%]{margin-top:2rem}}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}"]}),t})(),Rt=[{path:"",component:l,children:[{path:"",children:[{path:"userslist",component:Gt},{path:"",component:Gt}]}]}],Bt=(()=>{class t{}return t.ngModuleDef=n.Mb({type:t}),t.ngInjectorDef=n.Lb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(Rt)],o.e]}),t})();o.e.forChild(Rt),a.d(e,"UsersModule",function(){return Tt});const Tt=(()=>{class t{}return t.ngModuleDef=n.Mb({type:t}),t.ngInjectorDef=n.Lb({factory:function(e){return new(e||t)},imports:[[c.c,r.a,i.e,i.l,Bt]]}),t})()}}]);